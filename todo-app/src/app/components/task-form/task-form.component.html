<div class="slds-modal slds-fade-in-open">
  <div class="slds-modal__container">

    <!-- Header -->
    <header class="slds-modal__header">
      <h2 class="slds-text-heading_medium">
        {{ isEdit ? 'Edit Task' : 'New Task' }}
      </h2>
    </header>

    <!-- Content -->
    <div class="slds-modal__content slds-p-around_medium">
      <form [formGroup]="form">

        <!-- FIRST ROW -->
        <div class="slds-grid slds-gutters">

          <!-- Assigned To -->
          <div class="slds-col">
            <label class="slds-form-element__label">
              <abbr class="slds-required" title="required">*</abbr> Assigned To
            </label>
            <div class="slds-form-element__control">
              <select class="slds-input" formControlName="assignedTo" [class.slds-has-error]="form.get('assignedTo')?.invalid && form.get('assignedTo')?.touched">
                <option value="">-- Select User --</option>
                <option value="User 1">User 1</option>
                <option value="User 2">User 2</option>
                <option value="User 3">User 3</option>
              </select>
              <div class="slds-form-element__help" *ngIf="form.get('assignedTo')?.invalid && form.get('assignedTo')?.touched">
                Assigned To is required
              </div>
            </div>
          </div>

          <!-- Status -->
          <div class="slds-col">
            <label class="slds-form-element__label">
              <abbr class="slds-required" title="required">*</abbr> Status
            </label>
            <div class="slds-form-element__control">
              <select class="slds-input" formControlName="status" [class.slds-has-error]="form.get('status')?.invalid && form.get('status')?.touched">
                <option value="">-- Select Status --</option>
                <option value="Not Started">Not Started</option>
                <option value="In Progress">In Progress</option>
                <option value="Completed">Completed</option>
              </select>
              <div class="slds-form-element__help" *ngIf="form.get('status')?.invalid && form.get('status')?.touched">
                Status is required
              </div>
            </div>
          </div>

        </div>

        <!-- SECOND ROW -->
        <div class="slds-grid slds-gutters slds-m-top_small">

          <!-- Due Date -->
          <div class="slds-col">
            <label class="slds-form-element__label">
              <abbr class="slds-required" title="required">*</abbr> Due Date
            </label>
            <div class="slds-form-element__control">
              <input type="date" class="slds-input" formControlName="dueDate" [class.slds-has-error]="form.get('dueDate')?.invalid && form.get('dueDate')?.touched" />
              <div class="slds-form-element__help" *ngIf="form.get('dueDate')?.invalid && form.get('dueDate')?.touched">
                Due Date is required
              </div>
            </div>
          </div>

          <!-- Priority -->
          <div class="slds-col">
            <label class="slds-form-element__label">
              <abbr class="slds-required" title="required">*</abbr> Priority
            </label>
            <div class="slds-form-element__control">
              <select class="slds-input" formControlName="priority" [class.slds-has-error]="form.get('priority')?.invalid && form.get('priority')?.touched">
                <option value="">-- Select Priority --</option>
                <option value="Low">Low</option>
                <option value="Normal">Normal</option>
                <option value="High">High</option>
              </select>
              <div class="slds-form-element__help" *ngIf="form.get('priority')?.invalid && form.get('priority')?.touched">
                Priority is required
              </div>
            </div>
          </div>

        </div>

        <!-- DESCRIPTION -->
        <div class="slds-m-top_small">
          <label class="slds-form-element__label">Description</label>
          <div class="slds-form-element__control">
            <textarea class="slds-textarea" formControlName="description" placeholder="Enter task description (optional)"></textarea>
          </div>
        </div>

      </form>
    </div>

    <!-- Footer -->
    <footer class="slds-modal__footer">
      <button class="slds-button slds-button_neutral" (click)="close()">Cancel</button>
      <button class="slds-button slds-button_brand" (click)="save()">Save</button>
    </footer>

  </div>
</div>

<!-- BACKDROP -->
<div class="slds-backdrop slds-backdrop_open"></div>
